
<!DOCTYPE html>


<html lang="es" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Hilos en Python &#8212; Programación Distribuida 2025 - 02 Ucaldas</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=78d55cf8"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../_static/translations.js?v=d190bf04"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Unidades/Unidad_5/Hilos_en_Python';</script>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="HilosJavaBasico" href="../Unidad_4/HilosJavaBasico.html" />
    <link rel="prev" title="Unidad 4: Hilos" href="../../Unidad4.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Saltar al contenido principal</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Volver arriba</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Advertencia de versión"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="https://avatars.githubusercontent.com/u/142033488?s=200&v=4" class="logo__image only-light" alt="Programación Distribuida 2025 - 02 Ucaldas - Home"/>
    <script>document.write(`<img src="https://avatars.githubusercontent.com/u/142033488?s=200&v=4" class="logo__image only-dark" alt="Programación Distribuida 2025 - 02 Ucaldas - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Búsqueda</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Programación Concurrente y Distribuida
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Unidad1.html">Unidad 1: Clusters en computación paralela/distribuida</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/repasoPythonC.html">Repaso Python y C para programación concurrente y distribuida</a></li>



<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Tema%201%20-%20TiposDeDatos%20Condicionales%20Ciclos%20Colecciones%20Funciones_10_08_2023.html"><strong>Introducción</strong></a></li>



























<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Tema_1_1_2_Multiples_Lenguajes_en_Colab_17_08_2023.html">Ejecución de código en multiples lenguajes de programación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Tema%202%20-%20Arreglos_10_08_2023.html">Matrices y vectores</a></li>







<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Intro_pandas.html">Introducción a Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Data_filtering_and_cleaning.html">«Data cleaning» y «Filtros»</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Tema%204%20-%20Analisis%20numerico%20y%20Calculo%20simbolico%20con%20Sympy_04_09_2024.html">Algebra computacional con <code class="docutils literal notranslate"><span class="pre">Sympy</span></code></a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/VisualizacionDinamicaFoliumF.html">Visualizaciones Avanzadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Automatizaciones.html">Automatizaciones</a></li>



<li class="toctree-l2"><a class="reference internal" href="../Unidad_1/Ficheros.html">Manejo de ficheros</a></li>




</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../Unidad2.html">Unidad 2: Arquitecturas para computación paralela</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Unidad3.html">Unidad 3: Métricas de desempeño</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_3/Ejercicio.html">Ejercicio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_3/Ley_de_Amdahl_Gustafson_Ejercicio.html">Ley de Amdahl y Gustafson</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_3/CalculodeFLOPS.html">Precisión Simple Vs Precisión Doble y TFlops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_3/Metricas%20programas%20paralelos.html">Medidas de desempeño</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_3/Recursos%20Extra.html">Recursos Extra</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../Unidad4.html">Unidad 4: Hilos</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Hilos en Python</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_4/HilosJavaBasico.html">HilosJavaBasico</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Unidad8.html">Unidad 5: Multiprocessing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/1%20-%20Multiprocessing.html">1 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/2%20-%20Multiprocessing.html">2 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/3%20-%20Multiprocessing.html">3 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/4%20-%20Multiprocessing.html">4 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/5%20-%20Multiprocessing.html">5 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/6%20-%20Multiprocessing.html">6 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/7%20-%20Multiprocessing.html">7 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/8%20-%20Multiprocessing.html">8 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/9%20-%20Multiprocessing.html">9 - Multiprocessing.ipynb</a></li>

<li class="toctree-l2"><a class="reference internal" href="../Unidad_8/10%20-%20Multiprocessing.html">10 - Multiprocessing.ipynb</a></li>

</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/BioAITeamLearning/ProgCD_2025_01_Ucaldas/blob/main/Unidades/Unidad_5/Hilos_en_Python.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/BioAITeamLearning/ProgCD_2025_01_Ucaldas" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Repositorio de origen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/BioAITeamLearning/ProgCD_2025_01_Ucaldas/issues/new?title=Issue%20on%20page%20%2FUnidades/Unidad_5/Hilos_en_Python.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Abrir un problema"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Unidades/Unidad_5/Hilos_en_Python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Hilos en Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Hilos en Python</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hilos-threads-en-python">Hilos (Threads) en Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-utilizar-los-hilos">¿Cómo utilizar los hilos?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-determinar-el-hilo-actual">¿Cómo determinar el hilo actual?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-un-hilo-con-temporizador-de-inicio">¿Cómo crear un hilo con temporizador de inicio?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-espere">¿Cómo crear hilos, ejecutarlos y que el principal espere?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-no-espere">¿Cómo crear hilos, ejecutarlos y que el principal no espere?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revisemos-el-siguiente-codigo">Revisemos el siguiente código..</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hay-que-tomar-precauciones-al-utilizar-los-hilos">¿Hay que tomar precauciones al utilizar los hilos?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-sincronizamos-hilos-en-python">¿Cómo sincronizamos hilos en Python?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#join">Join</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-2">Caso 2</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bloqueos-lock">Bloqueos - Lock</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semaforos-semaphore">Semáforos - Semaphore</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#barreras-barrier">Barreras - Barrier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#demonios-daemons">Demonios - Daemons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumar-matrices-por-filas-veamoslo">¿Sumar matrices por filas? Veamoslo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hilo-por-hilo">¿Hilo por hilo? 😒</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#todos-los-hilos-al-tiempo">¿Todos los hilos al tiempo? 😃</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-solo-tengo-2-hilos">¿Y si sólo tengo 2 hilos? 😵‍💫</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-solo-tengo-2-hilos-otra-forma-de-distribuir">¿Y si sólo tengo 2 hilos? 😵‍💫 Otra forma de Distribuir</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otros-conceptos-de-los-hilos">Otros conceptos de los hilos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#que-hay-de-la-aceleracion">¿Qué hay de la aceleración?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-deseo-depurar-mi-codigo-como-lo-hago">Y si deseo depurar mi código ¿Cómo lo hago?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplicacion-de-matrices">Multiplicación de Matrices</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="hilos-en-python">
<h1>Hilos en Python<a class="headerlink" href="#hilos-en-python" title="Link to this heading">#</a></h1>
<section id="hilos-threads-en-python">
<h2>Hilos (Threads) en Python<a class="headerlink" href="#hilos-threads-en-python" title="Link to this heading">#</a></h2>
<p>Permiten aprovechar las capacidades multiprocesador para ejecutar varias instrucciones a la vez, como subprocesos independientes.</p>
<p>Chapter 2: Thread-based Parallelism</p>
<p><a class="reference external" href="https://github.com/jsdnhk/python-parallel-programming-cookbook-code/tree/master/Chapter%202">https://github.com/jsdnhk/python-parallel-programming-cookbook-code/tree/master/Chapter 2</a></p>
</section>
<section id="como-utilizar-los-hilos">
<h2>¿Cómo utilizar los hilos?<a class="headerlink" href="#como-utilizar-los-hilos" title="Link to this heading">#</a></h2>
<p>La forma más sencilla de usar un subproceso es instanciarlo con una función de destino y luego llamar al método start() para que comience a funcionar.</p>
<p>El subprocesamiento del módulo de Python tiene el método Thread():</p>
<p><strong>class threading.Thread(group=None,
target=None,
name=None,
args=(),
kwargs={})</strong></p>
<ul class="simple">
<li><p><em>group</em>: Este es el valor del grupo que debe ser Ninguno; esto está reservado para futuras implementaciones</p></li>
<li><p><em>target</em>: esta es la función que se ejecutará cuando inicie una actividad de subproceso</p></li>
<li><p><em>name</em>: Este es el nombre del hilo; por defecto, se le asigna un nombre único de la forma Thread-N</p></li>
<li><p><em>args</em>: esta es la tupla de argumentos que se pasarán a un destino</p></li>
<li><p><em>kwargs</em>: este es el diccionario de argumentos de palabras clave que se utilizarán para la función de destino</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>        <span class="c1"># Manejo de hilos</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>  <span class="c1"># Pausar tiempo</span>
<span class="kn">import</span> <span class="nn">random</span>           <span class="c1"># Números aleatorios</span>

<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span> <span class="c1">#Tiempo de 0&lt;t&lt;1.5</span>
    <span class="k">return</span> <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Función llamada por el hilo </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span><span class="k">i</span>)

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">function</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,))</span> <span class="c1"># Instanciarlo con una función de destino</span>
    <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Comience a funcionar</span>
    <span class="c1">#t.join()  # Esperar por otro hilo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Función llamada por el hilo 4
Función llamada por el hilo 3
Función llamada por el hilo 1
Función llamada por el hilo 2
Función llamada por el hilo 0
</pre></div>
</div>
</div>
</div>
</section>
<section id="como-determinar-el-hilo-actual">
<h2>¿Cómo determinar el hilo actual?<a class="headerlink" href="#como-determinar-el-hilo-actual" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Cada instancia de Thread asigna un nombre de forma predetermianda.</p></li>
<li><p>El uso de argumentos para identificar o nombrar el subproceso es innecesario.</p></li>
<li><p>Nombrar subprocesos es útil en procesos de servidor con múltiples subprocesos de servicio que manejan diferentes operaciones</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span> <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">time</span>      <span class="c1"># librería para tiempo</span>

<span class="k">def</span> <span class="nf">first_function</span><span class="p">():</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">currentThread</span><span class="p">()</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39; iniciando...</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">currentThread</span><span class="p">()</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39; finalizó</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">second_function</span><span class="p">():</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">currentThread</span><span class="p">()</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39; iniciando...</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">currentThread</span><span class="p">()</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39; finalizó </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="k">return</span>


<span class="n">t1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Thread-Nombre&#39;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">first_function</span><span class="p">)</span> <span class="c1"># Nombre de hilo asignado</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span>                      <span class="n">target</span><span class="o">=</span><span class="n">second_function</span><span class="p">)</span> <span class="c1"># Toma nombre de hilo por defecto automáticamente</span>
<span class="n">t1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">t2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread-Nombre iniciando...

Thread-23 iniciando...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thread-Nombre finalizó

Thread-23 finalizó 
</pre></div>
</div>
</div>
</div>
</section>
<section id="como-crear-un-hilo-con-temporizador-de-inicio">
<h2>¿Cómo crear un hilo con temporizador de inicio?<a class="headerlink" href="#como-crear-un-hilo-con-temporizador-de-inicio" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear y ejecutar hilos con temporizador</span>
<span class="kn">import</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">ejecutar</span><span class="p">(</span><span class="n">tiempo_s</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;El hilo </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> te saluda luego de tu espera de </span><span class="si">{</span><span class="n">tiempo_s</span><span class="si">}</span><span class="s1"> segundos&#39;</span><span class="p">)</span>

<span class="c1"># creamos un temporizador</span>
<span class="n">tiempo_s</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">temporizador</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">tiempo_s</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">tiempo_s</span><span class="p">,))</span>  <span class="c1"># Crear el hilo con temporizador</span>
<span class="n">temporizador</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>                                   <span class="c1"># El hilo empezará cuando pasen segundos dados</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No te vayas, espera...&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>No te vayas, espera...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El hilo Thread-25 te saluda luego de tu espera de 5 segundos
</pre></div>
</div>
</div>
</div>
</section>
<section id="como-crear-hilos-ejecutarlos-y-que-el-principal-espere">
<h2>¿Cómo crear hilos, ejecutarlos y que el principal espere?<a class="headerlink" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-espere" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>        <span class="c1"># Manejo de hilos</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>  <span class="c1"># Pausar tiempos</span>
<span class="kn">import</span> <span class="nn">random</span>           <span class="c1"># Números aleatorios</span>

<span class="k">def</span> <span class="nf">ejecutar</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Comienza </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span> <span class="c1">#Tiempo de 0&lt;t&lt;1.5</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Termina </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Crear los hilos</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 1&#39;</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 2&#39;</span><span class="p">)</span>
<span class="n">hilo3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 3&#39;</span><span class="p">)</span>

<span class="n">hilo4</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 4&#39;</span><span class="p">)</span>
<span class="n">hilo5</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 5&#39;</span><span class="p">)</span>
<span class="n">hilo6</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 6&#39;</span><span class="p">)</span>

<span class="c1"># Ejecutar los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperar a que terminen los hilos ejecutados</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>


<span class="c1"># Ejecutar los hilos secuencialmente</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo5</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo5</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo6</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo6</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El hilo principal sí espera por el resto de hilos.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comienza Hilo 1
Comienza Hilo 2
Comienza Hilo 3
Termina Hilo 1
Termina Hilo 2
Termina Hilo 3
Comienza Hilo 4
Termina Hilo 4
Comienza Hilo 5
Termina Hilo 5
Comienza Hilo 6
Termina Hilo 6
El hilo principal sí espera por el resto de hilos.
</pre></div>
</div>
</div>
</div>
</section>
<section id="como-crear-hilos-ejecutarlos-y-que-el-principal-no-espere">
<h2>¿Cómo crear hilos, ejecutarlos y que el principal no espere?<a class="headerlink" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-no-espere" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>        <span class="c1"># Manejo de hilos</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>  <span class="c1"># Pausar tiempos</span>
<span class="kn">import</span> <span class="nn">random</span>           <span class="c1"># Números aleatorios</span>

<span class="k">def</span> <span class="nf">ejecutar</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Comienza </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span> <span class="c1">#Tiempo de 0&lt;t&lt;1.5</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Termina </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Crear los hilos</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 1&#39;</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 2&#39;</span><span class="p">)</span>
<span class="n">hilo3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 3&#39;</span><span class="p">)</span>

<span class="c1"># Ejecutar los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperar a que terminen los hilos ejecutados</span>
<span class="c1">#hilo1.join()</span>
<span class="c1">#hilo2.join()</span>
<span class="c1">#hilo3.join()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">El hilo principal no espera por el resto de hilos.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Comienza Hilo 1
Comienza Hilo 2
Comienza Hilo 3

El hilo principal no espera por el resto de hilos.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Termina Hilo 3
Termina Hilo 2
Termina Hilo 1
</pre></div>
</div>
</div>
</div>
</section>
<section id="revisemos-el-siguiente-codigo">
<h2>Revisemos el siguiente código..<a class="headerlink" href="#revisemos-el-siguiente-codigo" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>

<span class="c1"># Nuestra variable global</span>
<span class="n">contador</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">incrementar_calculando</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">contador</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">):</span>
        <span class="c1"># Leemos el valor</span>
        <span class="n">valor_local</span> <span class="o">=</span> <span class="n">contador</span>
        
        <span class="c1"># Aquí sumamos y multiplicamos un valor.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
            <span class="n">valor_local</span> <span class="o">+=</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">2</span>
        
        <span class="c1"># Le sumamos 1, la operación clave</span>
        <span class="n">valor_local</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="c1"># Escribimos el valor</span>
        <span class="n">contador</span> <span class="o">=</span> <span class="n">valor_local</span>

<span class="c1"># Creamos dos hilos que ejecutarán la nueva función.</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">incrementar_calculando</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">incrementar_calculando</span><span class="p">)</span>

<span class="c1"># Iniciamos los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperamos a que ambos hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El valor final del contador es: </span><span class="si">{</span><span class="n">contador</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="hay-que-tomar-precauciones-al-utilizar-los-hilos">
<h2>¿Hay que tomar precauciones al utilizar los hilos?<a class="headerlink" href="#hay-que-tomar-precauciones-al-utilizar-los-hilos" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Mientras el programa principal ha llegado al final, el hilo continúa imprimiendo su mensaje cada dos segundos.</p></li>
<li><p>Este ejemplo demuestra qué son los subprocesos: una subtarea que hace algo en un proceso principal.</p></li>
</ul>
<p>Un punto clave a tener en cuenta al usar subprocesos es que siempre debe asegurarse de <strong>nunca dejar ningún subproceso ejecutándose en segundo plano.</strong> Esta es una programación muy mala y puede causarle todo tipo de problemas cuando trabaja en aplicaciones más grandes.</p>
</section>
<section id="como-sincronizamos-hilos-en-python">
<h2>¿Cómo sincronizamos hilos en Python?<a class="headerlink" href="#como-sincronizamos-hilos-en-python" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Los hilos tienen la capacidad de compartirse información y resultados, para esto se necesitan sincronizar.</p></li>
<li><p>Sincronizar hilos consiste en que unos esperen por otros cuando es necesario,</p></li>
</ul>
<section id="join">
<h3>Join<a class="headerlink" href="#join" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>La manera más habitual de sincronización es hacer que el programa o hilo principal espere a que el resto de hilos termine para proseguir su ejecución. Esto se logra con la llamada al método join de los objetos Thread.</p></li>
<li><p>Cuando se llama a join, el hilo que hace la llamada se queda en espera, es decir, se bloquea, hasta que el hilo en cuestión, sobre el que se ha invocado el método, termina.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">var</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">ejecutar1</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">var</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Inicio </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># esperamos un tiempo aleatorio entre 0 y 1 segundos</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Final </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">var</span><span class="o">+</span><span class="s2">&quot;Hola &quot;</span>

<span class="k">def</span> <span class="nf">ejecutar2</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">var</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Inicio </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># esperamos un tiempo aleatorio entre 0 y 1 segundos</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Final </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">var</span><span class="o">+</span><span class="s2">&quot;Mundo&quot;</span>

<span class="c1"># creamos los hilos</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 1&#39;</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 2&#39;</span><span class="p">)</span>

<span class="c1"># ejecutamos los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># esperamos a que terminen los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Final del hilo principal.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inicio Hilo 1
Final Hilo 1 

Inicio Hilo 2
Final Hilo 2 

Final del hilo principal.

Hola Mundo
</pre></div>
</div>
</div>
</div>
<section id="caso-2">
<h4>Caso 2<a class="headerlink" href="#caso-2" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">var</span> <span class="o">=</span> <span class="nb">str</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">ejecutar1</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">var</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Inicio </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># esperamos un tiempo aleatorio entre 0 y 1 segundos</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Final </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">var</span><span class="o">+</span><span class="s2">&quot;Hola &quot;</span>

<span class="k">def</span> <span class="nf">ejecutar2</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">var</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Inicio </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># esperamos un tiempo aleatorio entre 0 y 1 segundos</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Final </span><span class="si">{</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">var</span><span class="o">+</span><span class="s2">&quot;Mundo&quot;</span>

<span class="c1"># creamos los hilos</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 1&#39;</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">ejecutar2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 2&#39;</span><span class="p">)</span>

<span class="c1"># ejecutamos los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># esperamos a que terminen los hilos</span>
<span class="c1">#hilo1.join()</span>

<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1">#hilo2.join()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Final del hilo principal.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inicio Hilo 1
Inicio Hilo 2
Final del hilo principal.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Final Hilo 2 

Final Hilo 1 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MundoHola 
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="bloqueos-lock">
<h3>Bloqueos - Lock<a class="headerlink" href="#bloqueos-lock" title="Link to this heading">#</a></h3>
<p>En el mundo de la programación concurrente, a esta técnica se le llama sincronización. La herramienta que usamos para esto es un lock (candado) o mutex (exclusión mutua).</p>
<p>Pensemos en nuestra analogía de los chefs 👩‍🍳:</p>
<ul class="simple">
<li><p>La variable contador es como el único bol de mezclar de la cocina 🥣.</p></li>
<li><p>La sección crítica (contador += 1) es la parte en la que un chef usa ese bol.</p></li>
<li><p>El lock es como un letrero de «en uso» que el chef pone en el bol.</p></li>
</ul>
<p>El proceso sería el siguiente:</p>
<ul class="simple">
<li><p>Un chef (hilo) quiere usar el bol (acceder a la variable).</p></li>
<li><p>Primero, intenta tomar el letrero de «en uso» (adquirir el lock).</p></li>
<li><p>Si nadie más lo tiene, lo toma y empieza a trabajar.</p></li>
<li><p>Si otro chef ya lo tiene, el primer chef tiene que esperar hasta que esté libre.</p></li>
<li><p>Cuando el chef termina de usar el bol, deja el letrero «en uso» a un lado (libera el lock).</p></li>
<li><p>Ahora otro chef puede tomarlo y empezar a trabajar.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Nuestra variable global</span>
<span class="n">contador</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Creamos nuestro candado o &#39;lock&#39;.</span>
<span class="n">candado</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">incrementar_calculando_seguro</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">contador</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">):</span>
        <span class="c1"># Tomamos el candado antes de entrar a la sección crítica.</span>
        <span class="n">candado</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Leemos el valor</span>
            <span class="n">valor_local</span> <span class="o">=</span> <span class="n">contador</span>
            <span class="c1"># Realizamos la operación que consume tiempo de CPU.</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">):</span>
                <span class="n">valor_local</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span>
            
            <span class="c1"># Le sumamos 1, la operación clave</span>
            <span class="n">valor_local</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="c1"># Escribimos el valor</span>
            <span class="n">contador</span> <span class="o">=</span> <span class="n">valor_local</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Liberamos el candado. El &#39;finally&#39; asegura que siempre se libere,</span>
            <span class="c1"># incluso si hay un error.</span>
            <span class="n">candado</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>

<span class="c1"># Creamos dos hilos que ejecutarán la nueva función.</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">incrementar_calculando_seguro</span><span class="p">)</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">incrementar_calculando_seguro</span><span class="p">)</span>

<span class="c1"># Iniciamos los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperamos a que ambos hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El valor final del contador es: </span><span class="si">{</span><span class="n">contador</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hilo 1 - 9
Hilo 2 - 53
Hilo 3 - 44
</pre></div>
</div>
</div>
</div>
<p>El lock es precisamente eso: una herramienta de sincronización que obliga a los hilos a tomar turnos para acceder a la sección crítica (la variable compartida contador).</p>
<p>Cuando un hilo toma el lock, el otro hilo que también quiere acceder a la variable se queda «bloqueado» 🔒 y espera pacientemente hasta que el primer hilo termina su trabajo y libera el lock.</p>
<p>El beneficio es claro: garantizamos la integridad de los datos. El costo, sin embargo, es que hemos sacrificado la concurrencia en esa parte del código. Los hilos ya no están «trabajando» al mismo tiempo, lo que puede ralentizar un poco el programa. Por eso es importante que las secciones críticas sean lo más pequeñas y rápidas posible.</p>
</section>
<section id="semaforos-semaphore">
<h3>Semáforos - Semaphore<a class="headerlink" href="#semaforos-semaphore" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Los semáforos permiten regular el acceso a un recurso compartido por un número preestablecido de hilos.</p></li>
<li><p>Cada hilo que desee acceder al recurso debe llamar al método acquire y, cuando haya terminado, debe llamar al método release.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="c1"># Creamos un semáforo con un valor inicial de 3.</span>
<span class="c1"># Esto significa que 3 hilos pueden acceder a la sección crítica a la vez.</span>
<span class="n">semaforo</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">conectar_a_servidor</span><span class="p">(</span><span class="n">numero_hilo</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> intentando adquirir permiso...&quot;</span><span class="p">)</span>
    <span class="n">semaforo</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span> <span class="c1"># El hilo toma un permiso. Si no hay, espera.</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> ha adquirido permiso y está procesando...&quot;</span><span class="p">)</span>
    <span class="c1"># Simula la tarea que requiere el recurso limitado.</span>
    <span class="c1"># Por ejemplo, una conexión a un servidor.</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> ha terminado de procesar y libera el permiso.&quot;</span><span class="p">)</span>
    <span class="n">semaforo</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1"># El hilo libera el permiso para que otro lo use.</span>

<span class="c1"># Creamos 5 hilos</span>
<span class="n">hilos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">hilo</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">conectar_a_servidor</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,))</span>
    <span class="n">hilos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hilo</span><span class="p">)</span>

<span class="c1"># Iniciamos los hilos</span>
<span class="k">for</span> <span class="n">hilo</span> <span class="ow">in</span> <span class="n">hilos</span><span class="p">:</span>
    <span class="n">hilo</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperamos a que todos los hilos terminen</span>
<span class="k">for</span> <span class="n">hilo</span> <span class="ow">in</span> <span class="n">hilos</span><span class="p">:</span>
    <span class="n">hilo</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Todos los hilos han terminado.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hola, soy el hilo 1
Hola, soy el hilo 2
Hola, soy el hilo 3
Hola, soy el hilo 4
Hola, soy el hilo 5
Hola, soy el hilo 6
Hola, soy el hilo 7
</pre></div>
</div>
</div>
</div>
<p>La forma más sencilla de entenderlos es comparándolos con un lock (el candado que ya usamos).</p>
<ul class="simple">
<li><p>Un lock es binario: o está tomado o está libre. Solo un hilo puede tenerlo a la vez. Es como la llave de un baño 🚽: solo una persona puede entrar a la vez.</p></li>
<li><p>Un semáforo es un candado con un contador. Se inicializa con un valor, que representa el número de «permisos» que puede dar. Los hilos toman un permiso para entrar en la sección crítica, y si no hay permisos disponibles, tienen que esperar.</p></li>
</ul>
<p>Así que, volviendo a nuestra analogía del restaurante:</p>
<ul class="simple">
<li><p>El lock es el letrero de «En Uso» para el único bol de mezclar. Solo un chef puede usarlo.</p></li>
<li><p>El semáforo es como si tuviéramos varios boles de mezclar 🥣. Si el semáforo se inicializa con el número 3, eso significa que hasta tres chefs pueden estar usando boles al mismo tiempo. Cuando un chef termina, libera el bol para que otro lo pueda usar.</p></li>
</ul>
<p>La principal diferencia es que el lock es para exclusión mutua (solo uno a la vez), mientras que un semáforo permite que un número limitado de hilos acceda a un recurso simultáneamente</p>
</section>
<section id="barreras-barrier">
<h3>Barreras - Barrier<a class="headerlink" href="#barreras-barrier" title="Link to this heading">#</a></h3>
<p>Imagina que tienes un equipo de trabajo y quieren empezar la siguiente fase de un proyecto, pero todos deben haber terminado su parte de la fase anterior antes de que nadie pueda avanzar. ¿Cómo te asegurarías de que todos esperen por los demás? La barrera es una herramienta de sincronización que hace precisamente eso.</p>
<p>Piensa en una carrera de relevos 🏃. La barrera es como la línea de meta. Todos los corredores (hilos) tienen que llegar a esa línea antes de que cualquiera de ellos pueda empezar el siguiente tramo de la carrera. Una vez que el último corredor llega, la barrera se «abre» y todos pueden continuar al mismo tiempo.</p>
<p>La barrera es perfecta para cualquier problema donde necesites que un grupo de hilos termine una tarea antes de que cualquiera de ellos pueda comenzar la siguiente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="c1"># Creamos una barrera que requiere que 3 hilos la alcancen para &quot;abrirse&quot;.</span>
<span class="n">barrera</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Barrier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">trabajador</span><span class="p">(</span><span class="n">numero_hilo</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> comenzando la primera fase del trabajo.&quot;</span><span class="p">)</span>
    <span class="c1"># Simula una tarea que toma un tiempo aleatorio.</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> ha terminado la primera fase y está esperando en la barrera.&quot;</span><span class="p">)</span>
    
    <span class="c1"># El hilo espera aquí hasta que 3 hilos hayan llegado a la barrera.</span>
    <span class="n">barrera</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hilo </span><span class="si">{</span><span class="n">numero_hilo</span><span class="si">}</span><span class="s2"> ha cruzado la barrera y está comenzando la segunda fase.&quot;</span><span class="p">)</span>

<span class="c1"># Creamos 3 hilos</span>
<span class="n">hilos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">hilo</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">trabajador</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,))</span>
    <span class="n">hilos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hilo</span><span class="p">)</span>

<span class="c1"># Iniciamos los hilos</span>
<span class="k">for</span> <span class="n">hilo</span> <span class="ow">in</span> <span class="n">hilos</span><span class="p">:</span>
    <span class="n">hilo</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperamos a que todos los hilos terminen</span>
<span class="k">for</span> <span class="n">hilo</span> <span class="ow">in</span> <span class="n">hilos</span><span class="p">:</span>
    <span class="n">hilo</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Todos los hilos han terminado su trabajo.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>worker 2 saluda...
worker 1 saluda...
worker 3 saluda...
worker 3 se despide...
worker 1 se despide...
worker 2 se despide...
</pre></div>
</div>
</div>
</div>
</section>
<section id="demonios-daemons">
<h3>Demonios - Daemons<a class="headerlink" href="#demonios-daemons" title="Link to this heading">#</a></h3>
<p>El nombre suena un poco intimidante, pero el concepto es bastante sencillo.</p>
<p>Normalmente, el hilo principal de tu programa no puede terminar su ejecución hasta que todos los otros hilos no demonio (non-daemon threads) hayan terminado.</p>
<p>Un hilo demonio es un hilo que se ejecuta en segundo plano. A diferencia de los hilos normales, un hilo demonio no impide que el programa principal termine. Si el hilo principal termina, el sistema operativo simplemente «mata» a todos los hilos demonio que queden, sin importar si han terminado su trabajo o no.</p>
<p>tareas como:</p>
<ul class="simple">
<li><p>Guardar automáticamente un documento: Si tu procesador de texto se cierra inesperadamente, no quieres que se quede «colgado» porque el hilo de guardado automático no terminó.</p></li>
<li><p>Limpieza de recursos: Un hilo que monitorea el uso de memoria o cierra conexiones de red inactivas.</p></li>
<li><p>Enviar datos de telemetría o registro (logging): Un programa puede enviar estadísticas de uso de forma periódica, pero si el usuario cierra el programa, no es necesario esperar a que se envíen todos los datos.</p></li>
</ul>
<p>En todos estos casos, la tarea del hilo no es esencial para el funcionamiento del programa, y si el programa principal decide cerrar, no hay problema en «matar» al hilo demonio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">tarea_demonio</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El hilo demonio ha iniciado...&quot;</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El hilo demonio sigue trabajando en segundo plano.&quot;</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Creamos un hilo normal</span>
<span class="n">hilo_normal</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">tarea_demonio</span><span class="p">)</span>

<span class="c1"># Y un hilo demonio</span>
<span class="n">hilo_demonio</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">tarea_demonio</span><span class="p">)</span>
<span class="n">hilo_demonio</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># ¡Esto es lo clave!</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Iniciando hilos...&quot;</span><span class="p">)</span>
<span class="c1">#hilo_normal.start()</span>
<span class="n">hilo_demonio</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># No lo iniciamos aún para comparar.</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El programa principal va a terminar en 3 segundos.&quot;</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El programa principal ha terminado.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="sumar-matrices-por-filas-veamoslo">
<h2>¿Sumar matrices por filas? Veamoslo<a class="headerlink" href="#sumar-matrices-por-filas-veamoslo" title="Link to this heading">#</a></h2>
<p>Realizaré la suma de las filas de tres matrices, cada una con cuatro filas y diez columnas. Tengo a mi disposición cuatro hilos de procesamiento y utilizaré un hilo para procesar cada conjunto de filas de las tres matrices. El proceso de suma de filas tarda aproximadamente 2 segundos en ejecutarse.</p>
<section id="hilo-por-hilo">
<h3>¿Hilo por hilo? 😒<a class="headerlink" href="#hilo-por-hilo" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Librerias que utilizaremos</span>
<span class="kn">import</span> <span class="nn">threading</span>   <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># Manejo de matrices</span>
<span class="kn">import</span> <span class="nn">time</span>        <span class="c1"># Manejo de tiempos</span>

<span class="c1"># Definir las 3 matrices de 4x10, con números enteros entre 0 y 10</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una matriz resultado de 4x10 con todos los valores en cero</span>
<span class="n">result_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una función para sumar las filas de las matrices</span>
<span class="k">def</span> <span class="nf">sum_rows</span><span class="p">(</span><span class="n">row_idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">result_matrix</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix1</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix2</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix3</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Se demora 2 segundos sumando una fila</span>

<span class="c1"># Iniciar medición del tiempo</span>
<span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Crear 4 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span> <span class="c1"># Suma fila 2</span>
<span class="n">hilo3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span> <span class="c1"># Suma fila 3</span>
<span class="n">hilo4</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,))</span> <span class="c1"># Suma fila 4</span>

<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Poner a trabajar hilo 1</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Esperar a que el hilo 1 termine</span>

<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Poner a trabajar hilo 2</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Esperar a que el hilo 2 termine</span>

<span class="n">hilo3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Poner a trabajar hilo 3</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Esperar a que el hilo 3 termine</span>

<span class="n">hilo4</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1"># Poner a trabajar hilo 4</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Esperar a que el hilo 4 termine</span>

<span class="c1"># Imprimir las matrices y la matriz resultado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix1:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix2:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix3:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result_matrix</span><span class="p">)</span>

<span class="c1"># Mostrar tiempo requerido</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">tiempo_total</span> <span class="o">=</span> <span class="n">fin</span> <span class="o">-</span> <span class="n">inicio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tiempo_total</span><span class="p">,</span><span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Matrix1:
 [[5 2 5 3 2 8 9 1 9 5]
 [2 7 8 5 5 2 3 4 4 5]
 [5 6 4 1 8 9 6 9 1 1]
 [2 8 7 1 8 6 5 1 0 3]]
Matrix2:
 [[ 1  1  9  7  4  2  0  7  1  1]
 [10  1  3  8  3  3  8  4  1  3]
 [10  1  8  0  9  7  2  1  8  9]
 [ 9 10  7  6 10  3  1  3  9  1]]
Matrix3:
 [[10 10  8 10  9  5 10  1  5 10]
 [ 0  2  0  4  1  2  2  9  0  5]
 [ 2  4  5  5  3  1  8  1  0  5]
 [ 8  1 10  5  8  1  6  4  6  9]]
Result Matrix:
 [[16 13 22 20 15 15 19  9 15 16]
 [12 10 11 17  9  7 13 17  5 13]
 [17 11 17  6 20 17 16 11  9 15]
 [19 19 24 12 26 10 12  8 15 13]]
8.03369927406311 segundos
</pre></div>
</div>
</div>
</div>
</section>
<section id="todos-los-hilos-al-tiempo">
<h3>¿Todos los hilos al tiempo? 😃<a class="headerlink" href="#todos-los-hilos-al-tiempo" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Librerias que utilizaremos</span>
<span class="kn">import</span> <span class="nn">threading</span>   <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># Manejo de matrices</span>
<span class="kn">import</span> <span class="nn">time</span>        <span class="c1"># Manejo de tiempos</span>

<span class="c1"># Definir las 3 matrices de 4x10, con números enteros entre 0 y 10</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una matriz resultado de 4x10 con todos los valores en cero</span>
<span class="n">result_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una función para sumar las filas de las matrices</span>
<span class="k">def</span> <span class="nf">sum_rows</span><span class="p">(</span><span class="n">row_idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">result_matrix</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix1</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix2</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix3</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Se demora 2 segundos sumando una fila</span>

<span class="c1"># Iniciar medición del tiempo</span>
<span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Crear 4 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span> <span class="c1"># Suma fila 2</span>
<span class="n">hilo3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span> <span class="c1"># Suma fila 3</span>
<span class="n">hilo4</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,))</span> <span class="c1"># Suma fila 4</span>

<span class="c1"># Poner a trabajar a los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Esperar a que todos los hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="c1"># Imprimir las matrices y la matriz resultado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix1:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix2:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix3:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result_matrix</span><span class="p">)</span>

<span class="c1"># Mostrar tiempo requerido</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">tiempo_total</span> <span class="o">=</span> <span class="n">fin</span> <span class="o">-</span> <span class="n">inicio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tiempo_total</span><span class="p">,</span><span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Matrix1:
 [[ 7  5  1  0  1  1  0  9  2  8]
 [ 8  4  9  3  7 10  4  5  4  5]
 [ 6  7  2  7  7  7  1  4  2  1]
 [ 7  2  5  3  5  5  6  3  7  7]]
Matrix2:
 [[ 7  3  7 10  1 10  2  4  4 10]
 [ 8  7  9  4  9  2  1  4  6  4]
 [ 9  6  1  9  5 10  7  9  3  3]
 [ 5  5  6  0  7  5  7  1  5  8]]
Matrix3:
 [[ 2  9  2  4  7  0  1  8  5  7]
 [ 2 10  1  5  5  2 10  0  5  7]
 [ 5  3  9  2  3  6  0  7  5  6]
 [ 1  8  6  5  3  9  4  3  4  2]]
Result Matrix:
 [[16 17 10 14  9 11  3 21 11 25]
 [18 21 19 12 21 14 15  9 15 16]
 [20 16 12 18 15 23  8 20 10 10]
 [13 15 17  8 15 19 17  7 16 17]]
2.016512393951416 segundos
</pre></div>
</div>
</div>
</div>
</section>
<section id="y-si-solo-tengo-2-hilos">
<h3>¿Y si sólo tengo 2 hilos? 😵‍💫<a class="headerlink" href="#y-si-solo-tengo-2-hilos" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Librerias que utilizaremos</span>
<span class="kn">import</span> <span class="nn">threading</span>   <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># Manejo de matrices</span>
<span class="kn">import</span> <span class="nn">time</span>        <span class="c1"># Manejo de tiempos</span>

<span class="c1"># Definir las 3 matrices de 4x10, con números enteros entre 0 y 10</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una matriz resultado de 4x10 con todos los valores en cero</span>
<span class="n">result_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una función para sumar las filas de las matrices</span>
<span class="k">def</span> <span class="nf">sum_rows</span><span class="p">(</span><span class="n">row_idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">result_matrix</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix1</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix2</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix3</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Se demora 2 segundos sumando una fila</span>

<span class="c1"># Iniciar medición del tiempo</span>
<span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Crear 2 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,))</span> <span class="c1"># Suma fila 2</span>
<span class="c1"># Poner a trabajar a los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># Esperar a que todos los hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="c1"># Crear 2 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span> <span class="c1"># Suma fila 2</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,))</span> <span class="c1"># Suma fila 3</span>
<span class="c1"># Poner a trabajar a los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># Esperar a que todos los hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="c1"># Imprimir las matrices y la matriz resultado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix1:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix2:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix3:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result_matrix</span><span class="p">)</span>

<span class="c1"># Mostrar tiempo requerido</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">tiempo_total</span> <span class="o">=</span> <span class="n">fin</span> <span class="o">-</span> <span class="n">inicio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tiempo_total</span><span class="p">,</span><span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Matrix1:
 [[ 6  1 10 10  3  4  3 10  5  5]
 [ 3  0  4  4  2  9  3  1  9  2]
 [10  2  3 10  7  6  8  9  8  2]
 [ 7  5  6  1  8  3  2  5  5  6]]
Matrix2:
 [[0 9 2 7 5 7 7 8 8 2]
 [7 2 3 8 4 8 3 9 0 5]
 [9 0 2 9 6 4 5 5 3 6]
 [6 4 2 8 8 8 4 2 5 1]]
Matrix3:
 [[ 0  6  1  2  0  4  1  9  6  3]
 [ 2  5  6  9  0  6 10  5  3  2]
 [ 8  7 10  0  4  6  5  1  8  6]
 [ 2  3  1 10  9  8  6  1  0  4]]
Result Matrix:
 [[ 6 16 13 19  8 15 11 27 19 10]
 [12  7 13 21  6 23 16 15 12  9]
 [27  9 15 19 17 16 18 15 19 14]
 [15 12  9 19 25 19 12  8 10 11]]
4.013372421264648 segundos
</pre></div>
</div>
</div>
</div>
</section>
<section id="y-si-solo-tengo-2-hilos-otra-forma-de-distribuir">
<h3>¿Y si sólo tengo 2 hilos? 😵‍💫 Otra forma de Distribuir<a class="headerlink" href="#y-si-solo-tengo-2-hilos-otra-forma-de-distribuir" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Librerias que utilizaremos</span>
<span class="kn">import</span> <span class="nn">threading</span>   <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># Manejo de matrices</span>
<span class="kn">import</span> <span class="nn">time</span>        <span class="c1"># Manejo de tiempos</span>

<span class="c1"># Definir las 3 matrices de 4x10, con números enteros entre 0 y 10</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una matriz resultado de 4x10 con todos los valores en cero</span>
<span class="n">result_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una función para sumar las filas de las matrices</span>
<span class="k">def</span> <span class="nf">sum_rows</span><span class="p">(</span><span class="n">row_idx</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">result_matrix</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix1</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix2</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix3</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">row_idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix1</span><span class="p">[</span><span class="n">row_idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix2</span><span class="p">[</span><span class="n">row_idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix3</span><span class="p">[</span><span class="n">row_idx</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Se demora 2 segundos sumando una fila</span>

<span class="c1"># Iniciar medición del tiempo</span>
<span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Crear 2 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">sum_rows</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span> <span class="c1"># Suma fila 2</span>
<span class="c1"># Poner a trabajar a los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># Esperar a que todos los hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

<span class="c1"># Imprimir las matrices y la matriz resultado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix1:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix2:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix3:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result_matrix</span><span class="p">)</span>

<span class="c1"># Mostrar tiempo requerido</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">tiempo_total</span> <span class="o">=</span> <span class="n">fin</span> <span class="o">-</span> <span class="n">inicio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tiempo_total</span><span class="p">,</span><span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Matrix1:
 [[5 2 9 1 2 7 3 8 0 3]
 [3 5 6 5 1 5 4 4 3 5]
 [2 1 1 9 1 2 6 8 4 6]
 [4 4 5 2 4 9 5 1 7 2]]
Matrix2:
 [[ 7  9  1  3  0  6  2  2  0  1]
 [ 1  7 10 10  2  3  1  8  1  3]
 [ 6  8  7 10  9  1  3  1  2  3]
 [ 8  3  6  7  8  8  2  8  0  3]]
Matrix3:
 [[ 1  8  3  5  3  8  4  6  6  1]
 [ 1  7  2  7  8  7  2  7  6  7]
 [ 5  0  4  1  1  3  1 10  0  7]
 [10 10  5  1  3  8  4  4  8  5]]
Result Matrix:
 [[13 19 13  9  5 21  9 16  6  5]
 [ 5 19 18 22 11 15  7 19 10 15]
 [13  9 12 20 11  6 10 19  6 16]
 [22 17 16 10 15 25 11 13 15 10]]
2.0148682594299316 segundos
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="otros-conceptos-de-los-hilos">
<h1>Otros conceptos de los hilos<a class="headerlink" href="#otros-conceptos-de-los-hilos" title="Link to this heading">#</a></h1>
<section id="que-hay-de-la-aceleracion">
<h2>¿Qué hay de la aceleración?<a class="headerlink" href="#que-hay-de-la-aceleracion" title="Link to this heading">#</a></h2>
<p>Relacionemos los tiempos del algoritmo ejecutado con diferente cantidad de hilos.</p>
<ul class="simple">
<li><p>Hilo por hilo le toma al algoritmo 8 segundos aprox.</p></li>
<li><p>Con 2 hilos le toma al algoritmo 4 segundos aprox.</p></li>
<li><p>Con 4 hilos le toma al algoritmo 2 segundos aprox.</p></li>
</ul>
<p>¿cuánto es la aceleración del algoritmo si con 2 hilos la realiza en 4 segundos aprox.?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t_1</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># Tiempo con 1 hilo</span>
<span class="n">t_2</span> <span class="o">=</span> <span class="mi">4</span> <span class="c1"># Tiempo con 2 hilos</span>

<span class="n">Aceleracion</span> <span class="o">=</span> <span class="n">t_1</span><span class="o">/</span><span class="n">t_2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; La aceleración es de </span><span class="si">{</span><span class="n">Aceleracion</span><span class="si">}</span><span class="s2"> veces&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> La aceleración es de 2.0 veces
</pre></div>
</div>
</div>
</div>
<p>¿cuánto es la aceleración del algoritmo si con 4 hilos la realiza en 2 segundos aprox.?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t_1</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># Tiempo con 1 hilo</span>
<span class="n">t_2</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># Tiempo con 4 hilos</span>

<span class="n">Aceleracion</span> <span class="o">=</span> <span class="n">t_1</span><span class="o">/</span><span class="n">t_2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; La aceleración es de </span><span class="si">{</span><span class="n">Aceleracion</span><span class="si">}</span><span class="s2"> veces&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> La aceleración es de 4.0 veces
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>

<span class="n">t_1</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># Tiempo que emplea el algoritmo ejecutandose en un solo hilo</span>
<span class="n">n_hilos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">t_paralelo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># Miremos gráficamente el comportamiento.</span>
<span class="n">acel</span> <span class="o">=</span> <span class="n">t_1</span> <span class="o">/</span> <span class="n">t_paralelo</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">n_hilos</span><span class="p">,</span> <span class="n">acel</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">n_hilos</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Aceleración [X]&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Número de hilos [n]&quot;</span><span class="p">);</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">n_hilos</span><span class="p">,</span> <span class="n">t_paralelo</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">n_hilos</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Tiempo [seg]&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Número de hilos [n]&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/30c0bd9ff71f2b2a21b7188e0188403108dadedde9c56a4d9a8ec13aef723674.png" src="../../_images/30c0bd9ff71f2b2a21b7188e0188403108dadedde9c56a4d9a8ec13aef723674.png" />
<img alt="../../_images/c8e45a8ac8cab592a0e0ed8fa0d2b90d9b09cf596af6b4c73818cfd70c7b6403.png" src="../../_images/c8e45a8ac8cab592a0e0ed8fa0d2b90d9b09cf596af6b4c73818cfd70c7b6403.png" />
</div>
</div>
</section>
<section id="y-si-deseo-depurar-mi-codigo-como-lo-hago">
<h2>Y si deseo depurar mi código ¿Cómo lo hago?<a class="headerlink" href="#y-si-deseo-depurar-mi-codigo-como-lo-hago" title="Link to this heading">#</a></h2>
<p>Si vamos a depurar algo relacionado con los threads es recomendable utilizar el módulo logging.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Configuramos el nivel de registro para DEBUG</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;[</span><span class="si">%(levelname)s</span><span class="s1">] - </span><span class="si">%(threadName)-10s</span><span class="s1"> : </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">worker</span><span class="p">(</span><span class="n">indice</span><span class="p">):</span>
    <span class="c1"># Registramos un mensaje de depuración al inicio de la función</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Inicio depuración&#39;</span><span class="p">)</span>

    <span class="c1"># Hacemos una pausa de 2 segundos</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Generamos un caso correcto y una excepción IndexError</span>
    <span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[</span><span class="n">indice</span><span class="p">])</span>
        <span class="c1"># Registramos un mensaje de información</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Código funciona correctamente&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="c1"># Si se produce una excepción IndexError, se registrará un mensaje de registro de nivel ERROR</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Índice fuera de rango&#39;</span><span class="p">)</span><span class="c1">#, exc_info=True) # True muestra detalles</span>

    <span class="c1"># Registramos un mensaje de depuración al final de la función</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Fin depuración&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos un hilo y lo iniciamos -&gt; Funciona bien - Indice dentro del rango</span>
<span class="n">w1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">worker</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 1&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
<span class="n">w1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">w1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[DEBUG] - Hilo 1     : Inicio depuración
[INFO] - Hilo 1     : Código funciona correctamente
[DEBUG] - Hilo 1     : Fin depuración
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creamos un hilo y lo iniciamos -&gt; Error - Indice fuera del rango</span>
<span class="n">w2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">worker</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hilo 2&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,))</span>
<span class="n">w2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">w2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[DEBUG] - Hilo 2     : Inicio depuración
[ERROR] - Hilo 2     : Índice fuera de rango
[DEBUG] - Hilo 2     : Fin depuración
</pre></div>
</div>
</div>
</div>
</section>
<section id="multiplicacion-de-matrices">
<h2>Multiplicación de Matrices<a class="headerlink" href="#multiplicacion-de-matrices" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Librerias que utilizaremos</span>
<span class="kn">import</span> <span class="nn">threading</span>   <span class="c1"># Manejo de hilos</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># Manejo de matrices</span>
<span class="kn">import</span> <span class="nn">time</span>        <span class="c1"># Manejo de tiempos</span>

<span class="c1"># Definir las 3 matrices de 4x10, con números enteros entre 0 y 10</span>
<span class="n">matrix1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una matriz resultado de 4x10 con todos los valores en cero</span>
<span class="n">result_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

<span class="c1"># Definir una función para sumar las filas de las matrices</span>
<span class="k">def</span> <span class="nf">mul_fila</span><span class="p">(</span><span class="n">fil</span><span class="p">,</span><span class="n">col</span><span class="p">,</span><span class="n">posF</span><span class="p">,</span><span class="n">posC</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">result_matrix</span>
    <span class="n">result_matrix</span><span class="p">[</span><span class="n">posF</span><span class="p">,</span><span class="n">posC</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">fil</span><span class="p">,</span><span class="n">col</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Se demora 2 segundos sumando una fila</span>

<span class="c1"># Iniciar medición del tiempo</span>
<span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Crear 2 hilos, uno para cada fila</span>
<span class="n">hilo1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">mul_fila</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">matrix1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">matrix2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">mul_fila</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">matrix1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">matrix2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo3</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">mul_fila</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">matrix1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">matrix2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> <span class="c1"># Suma fila 1</span>
<span class="n">hilo4</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">mul_fila</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">matrix1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">matrix2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># Suma fila 1</span>
<span class="c1"># Poner a trabajar a los hilos</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="c1"># Esperar a que todos los hilos terminen</span>
<span class="n">hilo1</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo2</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo3</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">hilo4</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>


<span class="c1"># Imprimir las matrices y la matriz resultado</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix1:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Matrix2:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result Matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">result_matrix</span><span class="p">)</span>

<span class="c1"># Mostrar tiempo requerido</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">tiempo_total</span> <span class="o">=</span> <span class="n">fin</span> <span class="o">-</span> <span class="n">inicio</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tiempo_total</span><span class="p">,</span><span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Matrix1:
 [[7 4]
 [3 7]]
Matrix2:
 [[10  8]
 [10  8]]
Result Matrix:
 [[110  88]
 [100  80]]
2.0067086219787598 segundos
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Unidades/Unidad_5"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../Unidad4.html"
       title="página anterior">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">anterior</p>
        <p class="prev-next-title">Unidad 4: Hilos</p>
      </div>
    </a>
    <a class="right-next"
       href="../Unidad_4/HilosJavaBasico.html"
       title="siguiente página">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">siguiente</p>
        <p class="prev-next-title">HilosJavaBasico</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Hilos en Python</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hilos-threads-en-python">Hilos (Threads) en Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-utilizar-los-hilos">¿Cómo utilizar los hilos?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-determinar-el-hilo-actual">¿Cómo determinar el hilo actual?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-un-hilo-con-temporizador-de-inicio">¿Cómo crear un hilo con temporizador de inicio?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-espere">¿Cómo crear hilos, ejecutarlos y que el principal espere?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-crear-hilos-ejecutarlos-y-que-el-principal-no-espere">¿Cómo crear hilos, ejecutarlos y que el principal no espere?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revisemos-el-siguiente-codigo">Revisemos el siguiente código..</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hay-que-tomar-precauciones-al-utilizar-los-hilos">¿Hay que tomar precauciones al utilizar los hilos?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-sincronizamos-hilos-en-python">¿Cómo sincronizamos hilos en Python?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#join">Join</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#caso-2">Caso 2</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bloqueos-lock">Bloqueos - Lock</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semaforos-semaphore">Semáforos - Semaphore</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#barreras-barrier">Barreras - Barrier</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#demonios-daemons">Demonios - Daemons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumar-matrices-por-filas-veamoslo">¿Sumar matrices por filas? Veamoslo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hilo-por-hilo">¿Hilo por hilo? 😒</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#todos-los-hilos-al-tiempo">¿Todos los hilos al tiempo? 😃</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-solo-tengo-2-hilos">¿Y si sólo tengo 2 hilos? 😵‍💫</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-solo-tengo-2-hilos-otra-forma-de-distribuir">¿Y si sólo tengo 2 hilos? 😵‍💫 Otra forma de Distribuir</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otros-conceptos-de-los-hilos">Otros conceptos de los hilos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#que-hay-de-la-aceleracion">¿Qué hay de la aceleración?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#y-si-deseo-depurar-mi-codigo-como-lo-hago">Y si deseo depurar mi código ¿Cómo lo hago?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplicacion-de-matrices">Multiplicación de Matrices</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por Johan Piña, Mario Bravo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>